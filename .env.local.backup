# AI Cost Guardian - Complete Production Environment Configuration
# Created: 2025-08-13
# This file contains ALL required environment variables for production deployment

# ====================================================================
# CORE CONFIGURATION
# ====================================================================

# Application URL (Update for production)
NEXTAUTH_URL=https://aicostguardian.com
NEXT_PUBLIC_APP_URL=https://aicostguardian.com

# Node Environment
NODE_ENV=production

# ====================================================================
# DATABASE CONFIGURATION
# ====================================================================

# PostgreSQL Database URL (Neon)
DATABASE_URL="postgresql://neondb_owner:npg_fA8zelFht5PQ@ep-morning-violet-ae4ekome-pooler.c-2.us-east-2.aws.neon.tech/neondb?sslmode=require"

# Direct database URL for migrations
DIRECT_DATABASE_URL="postgresql://neondb_owner:npg_fA8zelFht5PQ@ep-morning-violet-ae4ekome.c-2.us-east-2.aws.neon.tech/neondb?sslmode=require"

# ====================================================================
# AUTHENTICATION (NextAuth.js)
# ====================================================================

# NextAuth Secret (Generate with: openssl rand -base64 32)
NEXTAUTH_SECRET=your-generated-nextauth-secret-here-min-32-chars

# Google OAuth
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret

# ====================================================================
# SECURITY & ENCRYPTION
# ====================================================================

# Encryption Key for API Keys (Generate with: openssl rand -hex 32)
ENCRYPTION_KEY=your-64-character-hex-encryption-key-here

# CSRF Secret
CSRF_SECRET=your-csrf-secret-key-here

# ====================================================================
# CACHING & RATE LIMITING (Upstash Redis)
# ====================================================================

UPSTASH_REDIS_REST_URL=https://your-redis-instance.upstash.io
UPSTASH_REDIS_REST_TOKEN=your-upstash-redis-token

# ====================================================================
# EMAIL SERVICE (Choose one)
# ====================================================================

# Option 1: SendGrid
SENDGRID_API_KEY=SG.your-sendgrid-api-key
SENDGRID_FROM_EMAIL=notifications@aicostguardian.com
SENDGRID_FROM_NAME="AI Cost Guardian"

# Option 2: Resend
RESEND_API_KEY=re_your-resend-api-key
RESEND_FROM_EMAIL=notifications@aicostguardian.com

# Option 3: SMTP
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-specific-password
SMTP_FROM_EMAIL=notifications@aicostguardian.com

# ====================================================================
# PAYMENT PROCESSING (Stripe)
# ====================================================================

STRIPE_SECRET_KEY=sk_live_your-stripe-secret-key
STRIPE_PUBLISHABLE_KEY=pk_live_your-stripe-publishable-key
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret

# Stripe Price IDs
STRIPE_PRICE_ID_STARTER=price_starter_monthly
STRIPE_PRICE_ID_GROWTH=price_growth_monthly
STRIPE_PRICE_ID_PRO=price_pro_monthly
STRIPE_PRICE_ID_ENTERPRISE=price_enterprise_monthly

# ====================================================================
# AI PROVIDER API KEYS (For Testing/Monitoring)
# ====================================================================

# OpenAI
OPENAI_API_KEY=sk-your-openai-api-key
OPENAI_ORG_ID=org-your-openai-org-id

# Anthropic (Claude)
ANTHROPIC_API_KEY=sk-ant-your-anthropic-key
ANTHROPIC_API_VERSION=2024-02-15

# Google AI (Gemini)
GOOGLE_AI_API_KEY=AIza-your-google-ai-key
GOOGLE_AI_PROJECT_ID=your-google-cloud-project

# X.AI (Grok)
XAI_API_KEY=xai-your-grok-api-key

# Perplexity
PERPLEXITY_API_KEY=pplx-your-perplexity-key

# Cohere
COHERE_API_KEY=your-cohere-api-key

# Mistral
MISTRAL_API_KEY=your-mistral-api-key

# ====================================================================
# ERROR TRACKING & MONITORING
# ====================================================================

# Sentry
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_AUTH_TOKEN=your-sentry-auth-token
SENTRY_ORG=your-sentry-org
SENTRY_PROJECT=ai-cost-guardian

# LogRocket
LOGROCKET_APP_ID=your-org/ai-cost-guardian

# ====================================================================
# ANALYTICS
# ====================================================================

# Vercel Analytics (Auto-configured on Vercel)
NEXT_PUBLIC_ANALYTICS_ID=your-analytics-id

# Google Analytics
NEXT_PUBLIC_GA_MEASUREMENT_ID=G-YOUR-ID

# PostHog
NEXT_PUBLIC_POSTHOG_KEY=phc_your-posthog-key
NEXT_PUBLIC_POSTHOG_HOST=https://app.posthog.com

# ====================================================================
# WEBHOOKS & INTEGRATIONS
# ====================================================================

# Slack Integration
SLACK_CLIENT_ID=your-slack-client-id
SLACK_CLIENT_SECRET=your-slack-client-secret
SLACK_SIGNING_SECRET=your-slack-signing-secret
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# Microsoft Teams
TEAMS_WEBHOOK_URL=https://outlook.office.com/webhook/YOUR-WEBHOOK

# Discord
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR-WEBHOOK

# ====================================================================
# CLOUD STORAGE (Optional)
# ====================================================================

# AWS S3 (for file uploads/exports)
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1
AWS_S3_BUCKET=ai-cost-guardian-uploads

# Cloudflare R2 (Alternative to S3)
R2_ACCESS_KEY_ID=your-r2-access-key
R2_SECRET_ACCESS_KEY=your-r2-secret-key
R2_BUCKET_NAME=ai-cost-guardian
R2_ACCOUNT_ID=your-account-id

# ====================================================================
# FEATURE FLAGS
# ====================================================================

# Enable/Disable Features
NEXT_PUBLIC_ENABLE_AI_OPTIMIZE=true
NEXT_PUBLIC_ENABLE_VOICE_INPUT=true
NEXT_PUBLIC_ENABLE_FILE_UPLOAD=true
NEXT_PUBLIC_ENABLE_EXPORT=true
NEXT_PUBLIC_ENABLE_WEBHOOKS=true
NEXT_PUBLIC_ENABLE_TEAM_FEATURES=true
NEXT_PUBLIC_ENABLE_BILLING=true
NEXT_PUBLIC_ENABLE_NOTIFICATIONS=true

# ====================================================================
# RATE LIMITING
# ====================================================================

# API Rate Limits (requests per minute)
RATE_LIMIT_AUTHENTICATED=100
RATE_LIMIT_UNAUTHENTICATED=20
RATE_LIMIT_AI_OPTIMIZE=30

# ====================================================================
# BACKGROUND JOBS (Optional)
# ====================================================================

# Queue Management (Bull/BullMQ)
REDIS_URL=redis://localhost:6379

# Cron Jobs
ENABLE_CRON_JOBS=true
CRON_SECRET=your-cron-secret-for-verification

# ====================================================================
# DEVELOPMENT & TESTING
# ====================================================================

# Test Mode (Set to true for testing with mock data)
TEST_MODE=false

# Mock API Keys (Only used when TEST_MODE=true)
MOCK_OPENAI_KEY=sk-mock-openai-key-for-testing
MOCK_ANTHROPIC_KEY=sk-ant-mock-key-for-testing

# ====================================================================
# CDN & OPTIMIZATION
# ====================================================================

# Cloudflare
CLOUDFLARE_ZONE_ID=your-zone-id
CLOUDFLARE_API_TOKEN=your-api-token

# Image Optimization
NEXT_PUBLIC_IMAGE_DOMAINS=aicostguardian.com,api.dicebear.com

# ====================================================================
# COMPLIANCE & LEGAL
# ====================================================================

# GDPR Compliance
GDPR_ENABLED=true
DATA_RETENTION_DAYS=365

# Terms of Service & Privacy Policy URLs
NEXT_PUBLIC_TERMS_URL=https://aicostguardian.com/terms
NEXT_PUBLIC_PRIVACY_URL=https://aicostguardian.com/privacy

# ====================================================================
# NOTES FOR DEPLOYMENT
# ====================================================================

# 1. Generate secure secrets:
#    - NEXTAUTH_SECRET: openssl rand -base64 32
#    - ENCRYPTION_KEY: openssl rand -hex 32
#    - CSRF_SECRET: openssl rand -base64 32

# 2. Required for MVP:
#    - DATABASE_URL
#    - NEXTAUTH_SECRET
#    - NEXTAUTH_URL
#    - GOOGLE_CLIENT_ID & GOOGLE_CLIENT_SECRET
#    - ENCRYPTION_KEY

# 3. Required for Production:
#    - All of the above plus:
#    - UPSTASH_REDIS_* (for caching and rate limiting)
#    - Email service (SendGrid/Resend/SMTP)
#    - SENTRY_DSN (for error tracking)
#    - STRIPE_* (for billing)

# 4. Optional but Recommended:
#    - AI Provider API keys (for monitoring)
#    - Analytics (Vercel/Google/PostHog)
#    - Webhook URLs (Slack/Teams/Discord)
#    - Cloud storage (S3/R2)

# 5. Security Checklist:
#    - [ ] All secrets are unique and securely generated
#    - [ ] Database URL uses SSL
#    - [ ] NEXTAUTH_URL matches production domain
#    - [ ] Email service is configured
#    - [ ] Rate limiting is enabled (Redis)
#    - [ ] Error tracking is configured (Sentry)
#    - [ ] HTTPS is enforced
#    - [ ] CORS is properly configured
#    - [ ] CSP headers are set

# ====================================================================
# END OF CONFIGURATION
# ====================================================================